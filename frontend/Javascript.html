<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><meta name="description" content="技术文章"><title>javascript | 前端好好玩</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.9">
    <link rel="preload" href="/article/assets/js/runtime~app.b3abcc9d.js" as="script"><link rel="preload" href="/article/assets/css/styles.81de84ab.css" as="style"><link rel="preload" href="/article/assets/js/697.082336dc.js" as="script"><link rel="preload" href="/article/assets/js/app.6f91792a.js" as="script">
    <link rel="stylesheet" href="/article/assets/css/styles.81de84ab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class=""></path></svg></div><span><a href="/article/" class=""><img class="logo" src="/article/images/logo.png" alt="前端好好玩"><span class="site-name can-hide">前端好好玩</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/article/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a aria-current="page" href="/article/frontend/Javascript.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/article/vue/" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/article/react/" class="nav-link" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/article/algorithm/sort.md" class="nav-link" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/article/blog/Action.html" class="nav-link" aria-label="文章"><!--[--><!--]--> 文章 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="关于我"><span class="title">关于我</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="关于我"><span class="title">关于我</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/chen-junyi" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/chen-junyi/article" rel="noopener noreferrer" target="_blank" aria-label="源码"><!--[--><!--]--> 源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://juejin.cn/user/1011206427522078" rel="noopener noreferrer" target="_blank" aria-label="掘金首页"><!--[--><!--]--> 掘金首页 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/article/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a aria-current="page" href="/article/frontend/Javascript.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/article/vue/" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/article/react/" class="nav-link" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/article/algorithm/sort.md" class="nav-link" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/article/blog/Action.html" class="nav-link" aria-label="文章"><!--[--><!--]--> 文章 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="关于我"><span class="title">关于我</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="关于我"><span class="title">关于我</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/chen-junyi" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/chen-junyi/article" rel="noopener noreferrer" target="_blank" aria-label="源码"><!--[--><!--]--> 源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://juejin.cn/user/1011206427522078" rel="noopener noreferrer" target="_blank" aria-label="掘金首页"><!--[--><!--]--> 掘金首页 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><section class="sidebar-group"><p class="sidebar-heading active">大前端</p><ul class=""><li><!--[--><a aria-current="page" href="/article/frontend/Javascript.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-link active" aria-label="javascript"><!--[--><!--]--> javascript <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/article/frontend/Javascript.html#类型和语法" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="类型和语法"><!--[--><!--]--> 类型和语法 <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/article/frontend/Javascript.html#数据类型" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/article/frontend/Javascript.html#类型判断" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="类型判断"><!--[--><!--]--> 类型判断 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/article/frontend/Javascript.html#作用域和闭包" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="作用域和闭包"><!--[--><!--]--> 作用域和闭包 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/article/frontend/Javascript.html#原型链" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="原型链"><!--[--><!--]--> 原型链 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/article/frontend/Browser.html" class="nav-link sidebar-link" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/article/frontend/Nodejs.html" class="nav-link sidebar-link" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/article/frontend/Http.html" class="nav-link sidebar-link" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="javascript"><a class="header-anchor" href="#javascript">#</a> javascript</h1><h2 id="类型和语法"><a class="header-anchor" href="#类型和语法">#</a> 类型和语法</h2><h3 id="数据类型"><a class="header-anchor" href="#数据类型">#</a> 数据类型</h3><p>JavaScript 现在有八种数据类型，包括 7 个基础类型和 1 个引用类型。</p><p>基础类型：</p><ol><li>空值（null）</li><li>未定义（undefined）</li><li>布尔值（ boolean）</li><li>数字（number）</li><li>字符串（string）</li><li>符号（symbol，ES6 新增）</li><li>对象（bigint，ES11 新增）</li></ol><p>引用类型：</p><ol><li>对象(object)</li></ol><h3 id="类型判断"><a class="header-anchor" href="#类型判断">#</a> 类型判断</h3><p>一般我们可以用 typeof 运算符来查看值的类型，它返回的是类型的字符串值，值包括上述的八种，除了 null。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  typeof null === &quot;object&quot;; // true
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这是历史遗留问题，因为第一版的 JavaScript 是用 32 位比特来存储值的，且是通过值的第 1 位或 3 位来识别类型的。而 null 表示为全 0，所以被错误地判断为 object。</p><ol><li>1：整型（int）</li><li>000：引用类型（object）</li><li>010：双精度浮点型（double）</li><li>100：字符串（string）</li><li>110：布尔型（boolean）</li></ol><p><code>JavaScript中的变量是没有类型的，只有值才有。--《你不知道的JavaScript（中卷）》</code></p><p>js 还有很多内置对象，内置对象是对象的子类型，有 Function,Arguments,Math,Date,RegExp,Error。typeof 输出都是 object，除了 Function。 function 虽然本质也是对象，但是与普通对象相比，内部有一个[Call]方法，表示这个对象是可以调用的，typeof 操作符在判断 object 的时候，如果内部有[[Call]]方法就会返回 Function，这是一个特殊处理。</p><p>判断对象的子类型可以使用 instanceof，内部机制是通过判断对象的原型链中是不是能找到类型的 prototype。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Car(make, model, year) {
  this.make = make;
  this.model = model;
  this.year = year;
}
const auto = new Car(&#39;Honda&#39;, &#39;Accord&#39;, 1998);

console.log(auto instanceof Car);
// expected output: true

console.log(auto instanceof Object);
// expected output: true
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>typeof 只能判断基本数据类型，instanceof 可以判断对象的子类型，要更精确的判断数据类型，可以使用 Object.prototype.toString.call 方法，这方法会返回 &quot;[object XXX]&quot; 的字符串。</p><p>call 调用，是因为很多对象的 toString 方法被重写了。</p><p>总结类型判断：</p><ol><li>利用 typeof 判断 <ul><li>typeof 可以判断除 null 以外的基础类型，引用类型除了 Function，其他都返回 &#39;object&#39;</li></ul></li><li>利用 instanceof 判断引用类型 <ul><li>类似于 [] instanceof Array</li></ul></li><li>利用 toString 判断引用类型 <ul><li>类似于 Object.prototype.toString.call({}) === &#39;[object Object]&#39;</li></ul></li></ol><h2 id="作用域和闭包"><a class="header-anchor" href="#作用域和闭包">#</a> 作用域和闭包</h2><p>作用域是根据名称查找变量的一套规则，作用域分为<code>全局作用域</code>和<code>局部作用域</code>、ES6的<code>块级作用域</code></p><p>全局作用域：任何地方都能访问到的就是全局作用域</p><ol><li>函数最外部定义的变量拥有全局作用域</li><li>未定义直接赋值的变量会自动声明为拥有全局作用域</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> a <span class="token punctuation">{</span>
   b <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//1 </span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>浏览器下window的属性拥有全局作用域</li></ol><p>局部作用域：在固定的代码片段内可访问到，一般是指函数里声明的，所以局部作用域也叫函数作用域。</p><p>局部变量只作用于函数内，在函数开始执行时创建，函数执行完后局部变量会自动销毁。</p><p>块级作用域：只在变量声明的代码块内有效（let、const）</p><p>作用域链：执行函数时先从函数内部寻找局部变量， 没找到就往上个作用域寻找，直到全局作用域为止，这个作用域之间行程的引用关系就是作用域链</p><p>闭包：在一个函数内返回一个新的函数，新的函数引用了外部函数的变量，这时候这个变量会存在堆里，在这个函数执行完后不会被销毁。这就形成了闭包。 闭包的目的是将变量放在局部作用域，保留这个引用，实现变量的隐藏。</p><p>下面是简单的例子，foo执行返回的函数保留了foo的局部变量，形成闭包</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function foo() {
   var a = 1
   return function() {
      a++
      console.log(a)
   }
}
var boo = foo()
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>闭包缺点和解决方法：带有闭包的函数只要存在就会一直保留隐藏的局部变量，根据<code>垃圾回收</code>的机制，被一个作用域引用的变量不会被回收，所以这个隐藏的局部变量将会一直存在，就造成了内存泄漏。解决方法就是销毁这个作用域，手动将这个函数对闭包变量的引用进行释放。接上面代码的例子：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>boo = null
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="原型链"><a class="header-anchor" href="#原型链">#</a> 原型链</h2><p>每个函数都有 prototype 属性，这个属性就是原型，也是一个对象。创建的时候只有constructor一个属性，该属性指向构造函数本身。</p><p>每个对象都有<code>__proto__</code>属性，指向了创建该对象的构造函数的原型，也就是函数的prototype。这个属性指向了 [[prototype]]，但是 [[prototype]] 是内部属性，我们并不能访问到，所以使用 <code>__proto__</code> 来访问。</p><p>为了实现继承的方式，通过 <code>__proto__</code> 将对象和原型联系起来组成原型链，得以让对象可以访问到不属于自己的属性。</p><p><img src="/article/assets/img/prototype.8f94eb10.png" alt="图片"></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">2021/4/25 上午4:31:35</span></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/article/frontend/Browser.html" class="nav-link" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/article/assets/js/runtime~app.b3abcc9d.js" defer></script><script src="/article/assets/js/697.082336dc.js" defer></script><script src="/article/assets/js/app.6f91792a.js" defer></script>
  </body>
</html>
